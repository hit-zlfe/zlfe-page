<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
</head>
<body>

<h3>污染城市列表</h3>
<ul id="aqi-list">
    <!--
        <li>第一名：福州（样例），10</li>
          <li>第二名：福州（样例），10</li> -->
</ul>

<script type="text/javascript">

    var aqiData = [
        ["北京", 90],
        ["上海", 50],
        ["福州", 10],
        ["广州", 50],
        ["成都", 90],
        ["西安", 100]
    ];

    (function () {

        /*
         在注释下方编写代码
         遍历读取aqiData中各个城市的数据
         将空气质量指数大于60的城市显示到aqi-list的列表中
         */
        function creatList(parent,text){//往DOM中添加li
            var newList = document.createElement("li");
            newList.textContent=text;
            parent.appendChild(newList);
        }
        function selectCity(arr,minScore){//选择大于60的城市
            var selectedArr=[];
            for(var i =0;i<arr.length;i++){
                if(arr[i][1] > minScore){
                    selectedArr.push(arr[i]);
                }
            }
            /*function maxFirst(a,b){//sort辅助函数，用来从大到小排列
                if(a[1]>b[1]){
                    return -1;
                }
                else{
                    return 1;
                }
            }
            return selectArr.sort(maxFirst);
            */
            /* 功能相同 */
            return selectedArr.sort(function(arr1, arr2){
                return arr2[1] - arr1[1]; // 降序
            });
        }
        var list=selectCity(aqiData,60);
        for(var i =0;i<list.length;i++){
            creatList(document.getElementById('aqi-list'),list[i][0]+': '+list[i][1]);
        }


    })();

</script>
</body>
</html>